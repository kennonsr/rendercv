%-------------------------
% Resume in Latex
% Author : Sourabh Bajaj
% License : MIT
%------------------------

\documentclass[10pt, letterpaper]{article}

\usepackage[
    ignoreheadfoot, % set margins without considering header and footer
    top=2 cm, % seperation between body and page edge from the top
    bottom=2 cm, % seperation between body and page edge from the bottom
    left=2 cm, % seperation between body and page edge from the left
    right=2 cm, % seperation between body and page edge from the right
    footskip=1.0 cm, % seperation between body and footer
    % showframe % for debugging 
]{geometry} % for adjusting page geometry
\usepackage{latexsym}
\usepackage[nobottomtitles*]{titlesec}
\usepackage{marvosym}
\usepackage{verbatim}
\usepackage{setspace}
\usepackage{xcolor}
\usepackage{enumitem}
\usepackage[
    hidelinks,
    pdftitle={None's CV},
    pdfauthor={None}
]{hyperref}
\usepackage{fancyhdr}
\usepackage[english]{babel}
\usepackage{tabularx}
\usepackage{ifthen}
\usepackage{fontawesome5}
\usepackage{calc} % for calculating lengths
\usepackage[pscoord]{eso-pic} % for floating text on the page
\usepackage{lastpage} % for getting the total number of pages

% Ensure that generate pdf is machine readable/ATS parsable
\input{glyphtounicode}
\pdfgentounicode=1

\pagestyle{fancy}
\fancyhf{} % clear all header and footer fields
\fancyfoot[CO]{\color{gray}\textit{\small None - Page \thepage{} of \pageref*{LastPage}}}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}

\definecolor{primaryColor}{RGB}{0, 79, 144} % define primary color

\urlstyle{same}

\setcounter{secnumdepth}{0} % no section numbering
\setlength{\parindent}{0pt} % no indentation
\setlength{\topskip}{0pt} % no top skip

% \raggedbottom
\setlength{\tabcolsep}{0in}

% Sections formatting
\titleformat{\section}{
 \scshape\raggedright\large
}{}{0em}{}[\color{black}\titlerule]



\newcolumntype{R}[1]{
    >{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}p{#1}
} % right-aligned fixed width column type

\titlespacing{\section}{
        % left space:
        0pt
    }{
        % top space:
        0.3 cm - 0.1cm
    }{
        % bottom space:
        0.2 cm
    } % section title spacing

%-------------------------
% Custom commands
\newcommand{\placelastupdatedtext}{% \placetextbox{<horizontal pos>}{<vertical pos>}{<stuff>}
  \AddToShipoutPictureFG*{% Add <stuff> to current page foreground
    \put(
        \LenToUnit{\paperwidth-2 cm-0.2 cm+0.05cm},
        \LenToUnit{\paperheight-1.0 cm}
    ){\vtop{{\null}\makebox[0pt][c]{
        \small\color{gray}\textit{Last updated in January 2024}\hspace{\widthof{Last updated in January 2024}}
    }}}%
  }%
}%

\newcommand{\resumeItem}[2]{
  \item\small{
    \ifthenelse{\equal{#1}{}}{#2}{\textbf{#1:}{ #2}}
  }
}

\newcommand{\resumeItemWithoutBullet}[2]{
  \item[]\small{
    \ifthenelse{\equal{#1}{}}{#2}{\textbf{#1:}{ #2}}
  }
}

\newcommand{\resumeSubheading}[4]{
 \item
    \begin{tabularx}{0.98\textwidth-0.4 cm}[t]{X R{4.1 cm}}
      #1 & \small\ifthenelse{\equal{#2}{}}{#4}{#2} \\
      {\small#3} & \small\ifthenelse{\equal{#2}{}}{}{#4} \\
    \end{tabularx}
}

\newcommand{\resumePublicationSubheading}[3]{
 \item
    \begin{tabularx}{0.98\textwidth-0.4 cm}[t]{X R{4.1 cm}}
        #1 & \small#2 \\
        #3 
    \end{tabularx}
}

\newcommand{\resumeNormalSubheading}[2]{
 \item
    \begin{tabularx}{0.98\textwidth-0.4 cm}[t]{X R{4.1 cm}}
      \textbf{#1} & \textit{\small #2}
    \end{tabularx}
}

\newcommand{\resumeSubItem}[2]{\resumeItem{#1}{#2}}

\newcommand{\resumeSubItemWithoutBullet}[2]{\resumeItemWithoutBullet{#1}{#2}}

\renewcommand{\labelitemii}{$\circ$}

\newcommand{\resumeSubHeadingListStart}{\begin{itemize}[left=0.2 cm, topsep=0pt, parsep=0.2 cm, partopsep=0pt, rightmargin=0.2 cm]}
\newcommand{\resumeSubHeadingListEnd}{\end{itemize}}
\newcommand{\resumeItemListStart}{\vspace{0.10 cm}\begin{itemize}[left=0.4 cm, topsep=-0.2 cm, itemsep=0.10 cm, partopsep=0pt, rightmargin=0cm]}
\newcommand{\resumeItemListEnd}{\end{itemize}}

\begin{document}
    \placelastupdatedtext


    % save the original href command in a new command:
    \let\hrefWithoutArrow\href
    % new command for external links:
    \renewcommand{\href}[2]{\hrefWithoutArrow{#1}{\color{primaryColor}\mbox{\ifthenelse{\equal{#2}{}}{}{#2 }\raisebox{.15ex}{\footnotesize \faExternalLink*}}}}

    \section{Test}
        \resumeSubHeadingListStart

        \resumeSubItemWithoutBullet{}{test}


    \resumeSubHeadingListEnd

\end{document}